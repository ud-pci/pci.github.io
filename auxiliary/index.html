<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Auxiliary programs - pci</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Auxiliary programs";
        var mkdocs_page_input_path = "auxiliary.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> pci
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Basics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../theory/">Theory</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Using pCI</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ud_instructions/">Working at UD</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parallel_codes/">Running the parallel codes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">pCI Technical Details</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../main/">pCI code package</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../all-order/">All-order/MBPT code package</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Auxiliary programs</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#bdhfa-dirac-hartree-fock-code">bdhfA - Dirac-Hartree-Fock code</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#thora-dynamic-polarizability-code">thorA - dynamic polarizability code</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#con_cut-truncating-configuration-lists">con_cut - truncating configuration lists</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#merge_ci-merging-configuration-lists">merge_ci - merging configuration lists</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conf_pt-valence-perturbation-theory">conf_pt - valence perturbation theory</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#qed_pot_conf-">qed_pot_conf -</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sort-converts-parallel-matrix-element-files-to-serial-format">sort - converts parallel matrix element files to serial format</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../changelog/">Changelog</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_x/">Building a basis set for CI+X</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../qed/">Running QED</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_neutral/">Example 1 - constructing basis for Ac and Sr</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_complex/">Example 2 - constructing basis for Fe XVII and Ni XIX</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../about/">About the Team</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../contact/">Contact Us</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">pci</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
          <li>pCI Technical Details &raquo;</li>
      <li>Auxiliary programs</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="auxiliary-programs">Auxiliary programs</h1>
<p>It is sometimes useful to combine two configuration lists. Here, we describe an auxiliary codes <code>con_cut</code> which truncates a configuration list, and <code>merge_ci</code> which merges two configuration lists.</p>
<h2 id="bdhfa-dirac-hartree-fock-code">bdhfA - Dirac-Hartree-Fock code</h2>
<p><code>bdhfA</code> can be used in place of <code>bdhf</code> to make a B-spline basis set. This program reads in an input file <code>xx.dat</code> with a much simpler input than for <code>bdhf</code>, and will write <code>bdhf.in</code>, which can be renamed to <code>bas_wj.in</code> for subsequent use in all-order codes. 
    <details><summary>Click here to see a description of a <a href="../src/cs_min.dat" download>minimum input file for Cs</a>.</summary></p>
<pre><code class="language-text">1
1
Cs 
1s 2s 2p 3s 3p 3d 4s 4p 4d 5s 5p 
==========
7 70 9 220.0
</code></pre>
<p></details><br />
    <details><summary>Click here to see a description of a <a href="../src/cs_min.dat" download>complete input file for Cs</a>.</summary></p>
<pre><code class="language-text">1
1
Cs 137 0.0001
1s 2s 2p 3s 3p 3d 4s 4p 4d 5s 5p 
6 9 s1/2
6 9 p1/2
5d3/2
5d5/2
==========
7 70 9 220.0
</code></pre>
<p></details><br />
    <details><summary>Click here to see a description of a <a href="../src/cs_min.dat" download>complete input file for Yb</a>.</summary></p>
<pre><code class="language-text">1
1
Yb 176 0.0001
1s 2s 2p 3s 3p 3d 4s 4p 4d 5s 5p 4f
6s1/2
5d3/2
5d5/2
==========
7 50 9 60.0
</code></pre>
<p></details>  </p>
<p>The input files have the following format:</p>
<pre><code>1                   # 0 for old input, 1 for new input
1                   # convergence parameter: 1 - most cases, 5 - in case of convergence problems
Cs                  # name of element - e.g. Cs, Yb, etc. nuclear charge Z is set using this name
                    # Isotope can also be entered. If no isotope is entered, most abundant or 
                    # most stable isotope will be used. 
                    # First grid point can be entered if finer grid is used inside the nuclei.
                    # The default is set to 0.0005, which will produce a few points inside the nucleus.
                    # Use 0.0001, for example, for more points (~25).
                    # Examples (either will work):
                    # Cs
                    # Cs 137
                    # Cs 0.0001
1s 2s ... 5p        # List of filled core shells. This code has to use fully filled subshells for core potential.
                    # Valence electron lines can be omitted if the code is used for bspl.
                    # To include valence electrons, input nmin nmax l j, or nlj:
                    # 6 8 s1/2   # for 6, 7, 8 s1/2
                    # 6 s1/2     # for just 6s1/2
==========          # required line for formatting
7 70 9 220.0        # highest partial wave, number of splines, order of splines, and cavity radius in a.u.
</code></pre>
<h2 id="thora-dynamic-polarizability-code">thorA - dynamic polarizability code</h2>
<p><code>thorA</code> is used to make a batch script along with all input files for a range of wavelengths to aid in the submission of dynamic polarizability calculations. 
    <details><summary>Click here to see a description of the <a href="../src/inf.thor.dat" download>input file</a>.</summary></p>
<pre><code class="language-text">C           # C for Caviness, D for Darwin
2           # inout on the second line for ine_dyn_E28 input
3P2.        # state names for file names
800 980 2   # initial wavelength, final wavelength, and step in nm
</code></pre>
<p></details>  </p>
<h2 id="con_cut-truncating-configuration-lists">con_cut - truncating configuration lists</h2>
<p><code>con_cut</code> is used to truncate a configuration list to only hold all configurations with weights above a user-specified cutoff. This program outputs the file <code>CONF_CUT.RES</code>, which can be used as a new <code>CONF.INP</code> file. The configurations in <code>CONF_CUT.RES</code> are also listed in order of descending weights, so the most important configurations are at the top of the list. You can copy the top configurations to your <code>ADD.INP</code> file and reconstruct a new configuration list with the top configurations as basic configurations, or use <code>merge_ci</code> to put the top configurations in another <code>CONF.INP</code> file.</p>
<h2 id="merge_ci-merging-configuration-lists">merge_ci - merging configuration lists</h2>
<p><code>merge_ci</code> takes in two <code>CONF.INP</code> files named <code>C_A.INP</code> and <code>CONF.INP</code> and outputs the file <code>C_M.INP</code>. This output file can be renamed <code>CONF.INP</code> again to be used in <code>conf</code>. </p>
<p>In summary:</p>
<ol>
<li>Run <code>con_cut</code>, inputting a cutoff threshold for the weight, to obtain <code>CON_CUT.RES</code>.</li>
<li>Rename <code>CON_CUT.RES</code> to <code>C_A.INP</code>.</li>
<li>Replace the basic configurations in <code>ADD.INP</code> with the top configurations from <code>C_A.INP</code> and run <code>add</code>.</li>
<li>Run <code>merge_ci</code>, combining the configurations in <code>C_A.INP</code> and <code>CONF.INP</code> to obtain <code>C_M.INP</code>.</li>
<li>Rename <code>CONF.INP</code> to <code>C_B.INP</code>, and <code>C_M.INP</code> to <code>CONF.INP</code>.</li>
<li>Run <code>conf</code>. </li>
</ol>
<h2 id="conf_pt-valence-perturbation-theory">conf_pt - valence perturbation theory</h2>
<p>When running CI calculations with a large number of configurations relative to the number of work resources, it is often times necessary to determine the most important configurations in the CI space, and truncate the list of configurations to make successive calculations feasible. </p>
<p>The <code>conf_pt</code> program begins the same way <code>conf</code> begins, reading in several input parameters and the list of configurations from the file <code>CONF.INP</code>, the basis set from the files <code>HFD.DAT</code> and <code>CONF.DAT</code>, and the radial integrals from <code>CONF.INT</code> and <code>CONF.GNT</code>. In addition, it also reads the CI eigenvectors from the file <code>CONF.XIJ</code>. </p>
<h2 id="qed_pot_conf-">qed_pot_conf -</h2>
<p>The pCI package includes 5 variants (<code>kvar</code>) of QED potentials:</p>
<ol>
<li>QEDMOD</li>
<li>Flambaum local potential + QEDMOD non-local correction</li>
<li>Flambaum local potential</li>
<li>QEDPOT</li>
<li>Semi-empirical approach</li>
</ol>
<h2 id="sort-converts-parallel-matrix-element-files-to-serial-format">sort - converts parallel matrix element files to serial format</h2>
<p><code>sort.py</code> is a python program that sorts the matrix elements of the operator <script type="math/tex"> J^2 </script> in order of ascending index (as done in the serial version of the <code>conf</code> program). This program takes in the parallel file <code>CONF.JJJ</code> or <code>CONF.HIJ</code> and returns a serial version of the inputted file. However, there is one change made to the file. There is an additional integer at the start of the file that stores the total number of matrix elements. </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../all-order/" class="btn btn-neutral float-left" title="All-order/MBPT code package"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../changelog/" class="btn btn-neutral float-right" title="Changelog">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>&copy; Copyright 2023, pCI Development Team.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../all-order/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../changelog/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
