<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Auxiliary scripts - pci</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Auxiliary scripts";
        var mkdocs_page_input_path = "auxiliary.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> pci
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Basics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../theory/">Theory</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Using pCI</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ud_instructions/">Working at UD</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parallel_codes/">Running the parallel codes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">pCI Technical Details</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../main/">pCI code package</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../all-order/">All-order/MBPT code package</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../radial_grid/">Changing the radial grid</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../isotope_shifts/">Isotope shifts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../supplementary/">Supplementary programs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pci-py/">pCI-py scripts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../portal_codes/">Portal codes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../changelog/">Changelog</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../pci-py-example/">Sr with pCI-py</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../upscaling/">Upscaling basis sets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_x/">Building a basis set for CI+X</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../qed/">Running QED</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_neutral/">Example 1 - constructing basis for Ac and Sr</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basis_complex/">Example 2 - constructing basis for Fe XVII and Ni XIX</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../publications/">Publications</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../about/">About the Team</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../contact/">Contact Us</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">pci</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Auxiliary scripts</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="auxiliary-scripts">Auxiliary scripts</h1>
<p>In this section, we describe supplementary python scripts used to automatically generate basis sets and configuration lists used for configuration interaction. It is also able to submit batch jobs to run the CI programs on the UD computers. Scripts that require the execution of a pCI program read a user-defined configuration file <code>config.yml</code> to set general parameters defining the atomic system of interest.</p>
<h2 id="configyml">config.yml</h2>
<p>The <code>config.yml</code> file is a YAML configuration file that defines important parameters of the atomic system of interest. This config file is divided into several sections:</p>
<ul>
<li>general parameters</li>
<li>parameters used by basis programs (only read by basis.py)</li>
<li>parameters used by add program (only read by add.py)</li>
<li>parameters used by conf program (only read by add.py)</li>
<li>optional parameters to automatically execute programs, include QED, or include isotope shift calculations (only read by basis.py)</li>
</ul>
<p>The general parameters are in the block <code>system</code> and is read by all python scripts:</p>
<pre><code class="language-text">system:
    name: Ni12+
    isotope: 
    include_breit: True
</code></pre>
<p>The <code>name</code> field takes the name of the atomic system of interest.<br />
The <code>isotope</code> field takes a specified isotope number. If left blank, the script will automatically find the atomic weight from nuclear radii table.<br />
The <code>include_breit</code> field takes in a boolean to set whether to include Breit corrections or not.</p>
<h2 id="basispy">basis.py</h2>
<p>The <code>basis.py</code> script automatically generates the basis set given information about the atomic system of interest via a configuration file <code>config.yml</code>. This script reads the <code>basis</code> block:</p>
<pre><code class="language-text">basis:
    cavity_radius: 60
    orbitals:
        core: 1s 2s 2p 3s 3p 3d 4s 4p 4d 4f 5s 5p 5d 6s 6p
        valence: 6d 5f 7s 7p 8s
    b_splines:
        nmax: 30
        lmax: 7
        k: 7
    val_aov:
        s: 3
        p: 3
        d: 3
        f: 3
    val_energies:
        kval: 2
        energies: 
            s: -0.28000
            p: [-0.22000, -0.22000]
            d: [-0.31000, -0.31000]
            f: [-0.13000, -0.13000]
</code></pre>
<p>The <code>basis.cavity_radius</code> field takes in a value to set the size of the spherical cavity.<br />
The <code>basis.orbitals</code> block requires specification of the core and valence orbitals to be included in the basis.<br />
The <code>basis.b_splines</code> block requires specification of the maximum principal quantum number <code>nmax</code> (number of splines), maximum partial wave number <code>lmax</code>, and order of splines.<br />
The <code>basis.val_aov</code> block requires the number of valence orbitals to include for each partial wave.<br />
The <code>basis.val_energies</code> block allows specification of the energies of the valence orbitals. </p>
<p>In addition, the script will read the <code>optional</code> block:</p>
<pre><code class="language-text">optional:
    qed:
        include: False
        rotate_basis: False

    isotope_shifts: 
        include: False
        K_is: 1
        C_is: 0.01

    code_exec: ci+all-order
    run_ao_codes: False
</code></pre>
<p>The <code>optional.qed</code> block allows users to specify inclusion of QED corrections (this is currently not supported).<br />
The <code>optional.isotope_shifts</code> block allows users to specify isotope shift calculations by switching the <code>include</code> value to <code>True</code> and specifying keys <code>K_is</code> and <code>C_is</code>.<br />
The <code>optional.code_exec</code> field allows users to specify automatic execution of basis set codes depending on value.<br />
The <code>optional.run_ao_codes</code> field allows users to specify whether they would like to run the all-order set of codes after construction of the basis set.</p>
<h2 id="addpy">add.py</h2>
<p>The <code>add.py</code> script automatically generates the list of configurations given information about the atomic system of interest via a configuration file <code>config.yml</code>. This script reads the <code>add</code> block:</p>
<pre><code class="language-text">add:
    # Set of even and odd parity reference configurations
    ref_configs:
        odd: 
        even: [
   1s2 2s2 2p6 3s2   3p4, 
   1s2 2s2 2p6 3s2   3p3   4p1, 
   1s2 2s2 2p6 3s1   3p4   4s1           
        ]
    basis_set: 17spdfg
    orbitals:
        core:
        active: [
            1-2s: 2  2,
            2p: 6  6,
            3-7p:  0  6,
            3-7d:  0  6,
            4-5f:  0  6,
            ]    
    excitations:
        single: True
        double: True
        triple: False
</code></pre>
<p>The <code>add.ref_configs</code> block requires a list of reference configurations to excite electrons from to construct the list of configurations for the CI calculation. This list will not be constructed if left blank for a specified parity.<br />
The <code>add.basis_set</code> block requires specification of the basis set designated by <code>nspdfg</code>, where <code>n</code> specifies the principal quantum number, and <code>spdfg</code> specifies inclusion of s, p, d, f, and g orbitals. One can include higher partial waves by appending to the end of the list <code>h</code>, <code>i</code>, <code>k</code>, ...<br />
The <code>add.orbitals</code> block allows full customization of allowed orbital occupancies. For example, <code>1-2s: 2 2</code> defines the 1s and 2s orbitals to be closed, <code>2p: 6 6</code> defines the 2p orbital to be closed, <code>3-7p: 0 6</code> defines 3p to 7p orbitals to be completely open to allow up to 6 electrons on those orbitals.<br />
The <code>add.excitations</code> block defines the number of allowed excitations.</p>
<p>The script first asks for the name of the configuration file, which it parses and constructs the <code>ADD.INP</code> files. It then asks if the user would like <code>EVEN</code> and <code>ODD</code> parity directories to be generated. If the user responds with <code>yes</code>, both directories will be generated, and relevant input files will be copied to each directory. The script then also asks if the user would like the CI job scripts submitted to the cluster. If responded with <code>yes</code>, a new job script will be generated if one doesn't already exist, then the job script will be submitted. </p>
<h2 id="parse_asdpy">parse_asd.py</h2>
<p>The <code>parse_asd.py</code> script parses the NIST Atomic Spectra Database and generates a csv-formatted file with spectral data for a user-inputed system of interest. The csv outputted by the script is formatted for the <a href="https://www1.udel.edu/atom/" target="_blank">UD Portal for High-Precision Atomic Data and Computation</a>. </p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>&copy; Copyright 2024, pCI Development Team.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
